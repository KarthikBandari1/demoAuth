{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/speedometer/src/components/RegistrationForm/index.js\";\nimport { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass RegistrationForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      showSubmitError: false,\n      errorMsg: \"\"\n    };\n    this.onChangeUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n    this.onChangeEmail = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n    this.onChangePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n    this.onSubmitSuccess = jwtToken => {\n      const {\n        history\n      } = this.props;\n      Cookies.set(\"jwt_token\", jwtToken, {\n        expires: 30,\n        path: \"/\"\n      });\n      history.replace(\"/\");\n    };\n    this.onSubmitFailure = errorMsg => {\n      this.setState({\n        showSubmitError: true,\n        errorMsg\n      });\n    };\n    this.submitForm = async event => {\n      event.preventDefault();\n      const {\n        username,\n        email,\n        password\n      } = this.state;\n      const userDetails = {\n        username,\n        email,\n        password\n      };\n      console.log(username, email, password);\n      const url = \"https://zithara-auth-karthik.onrender.com/register\";\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userDetails)\n      };\n      const response = await fetch(url, options);\n      const data = await response.text();\n      if (response.ok === true) {\n        this.onSubmitSuccess(data);\n      } else {\n        this.onSubmitFailure(data);\n      }\n    };\n    this.renderPasswordField = () => {\n      const {\n        password\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          htmlFor: \"password\",\n          children: \"PASSWORD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          className: \"password-input-field\",\n          value: password,\n          onChange: this.onChangePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.renderUsernameField = () => {\n      const {\n        username\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          htmlFor: \"username\",\n          children: \"USERNAME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          className: \"username-input-field\",\n          value: username,\n          onChange: this.onChangeUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.renderEmail = () => {\n      const {\n        email\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          htmlFor: \"email\",\n          children: \"EMAIL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          className: \"username-input-field\",\n          value: email,\n          onChange: this.onChangeEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n  }\n  render() {\n    const {\n      showSubmitError,\n      errorMsg\n    } = this.state;\n    const jwtToken = Cookies.get(\"jwt_token\");\n    if (jwtToken !== undefined) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-container\",\n        onSubmit: this.submitForm,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h1prop\",\n          children: \"Zithara Registration Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: this.renderUsernameField()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: this.renderPasswordField()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: this.renderEmail()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-button\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), showSubmitError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: [\"*\", errorMsg]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default RegistrationForm;","map":{"version":3,"names":["Component","Cookies","Redirect","jsxDEV","_jsxDEV","Fragment","_Fragment","RegistrationForm","constructor","args","state","username","email","password","showSubmitError","errorMsg","onChangeUsername","event","setState","target","value","onChangeEmail","onChangePassword","onSubmitSuccess","jwtToken","history","props","set","expires","path","replace","onSubmitFailure","submitForm","preventDefault","userDetails","console","log","url","options","method","headers","body","JSON","stringify","response","fetch","data","text","ok","renderPasswordField","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","onChange","renderUsernameField","renderEmail","render","get","undefined","to","onSubmit"],"sources":["/home/workspace/reactjs/coding-practices/speedometer/src/components/RegistrationForm/index.js"],"sourcesContent":["import { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./index.css\";\n\nclass RegistrationForm extends Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    showSubmitError: false,\n    errorMsg: \"\",\n  };\n\n  onChangeUsername = (event) => {\n    this.setState({ username: event.target.value });\n  };\n\n  onChangeEmail = (event) => {\n    this.setState({ email: event.target.value });\n  };\n\n  onChangePassword = (event) => {\n    this.setState({ password: event.target.value });\n  };\n\n  onSubmitSuccess = (jwtToken) => {\n    const { history } = this.props;\n\n    Cookies.set(\"jwt_token\", jwtToken, {\n      expires: 30,\n      path: \"/\",\n    });\n    history.replace(\"/\");\n  };\n\n  onSubmitFailure = (errorMsg) => {\n    this.setState({ showSubmitError: true, errorMsg });\n  };\n\n  submitForm = async (event) => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    const userDetails = { username, email, password };\n    console.log(username, email, password);\n    const url = \"https://zithara-auth-karthik.onrender.com/register\";\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(userDetails),\n    };\n    const response = await fetch(url, options);\n    const data = await response.text();\n    if (response.ok === true) {\n      this.onSubmitSuccess(data);\n    } else {\n      this.onSubmitFailure(data);\n    }\n  };\n\n  renderPasswordField = () => {\n    const { password } = this.state;\n    return (\n      <>\n        <label className=\"input-label\" htmlFor=\"password\">\n          PASSWORD\n        </label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          className=\"password-input-field\"\n          value={password}\n          onChange={this.onChangePassword}\n        />\n      </>\n    );\n  };\n\n  renderUsernameField = () => {\n    const { username } = this.state;\n    return (\n      <>\n        <label className=\"input-label\" htmlFor=\"username\">\n          USERNAME\n        </label>\n        <input\n          type=\"text\"\n          id=\"username\"\n          className=\"username-input-field\"\n          value={username}\n          onChange={this.onChangeUsername}\n        />\n      </>\n    );\n  };\n\n  renderEmail = () => {\n    const { email } = this.state;\n    return (\n      <>\n        <label className=\"input-label\" htmlFor=\"email\">\n          EMAIL\n        </label>\n        <input\n          type=\"text\"\n          id=\"email\"\n          className=\"username-input-field\"\n          value={email}\n          onChange={this.onChangeEmail}\n        />\n      </>\n    );\n  };\n\n  render() {\n    const { showSubmitError, errorMsg } = this.state;\n    const jwtToken = Cookies.get(\"jwt_token\");\n    if (jwtToken !== undefined) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"login-form-container\">\n        <form className=\"form-container\" onSubmit={this.submitForm}>\n          <h1 className=\"h1prop\">Zithara Registration Form</h1>\n          <div className=\"input-container\">{this.renderUsernameField()}</div>\n          <div className=\"input-container\">{this.renderPasswordField()}</div>\n          <div className=\"input-container\">{this.renderEmail()}</div>\n          <button type=\"submit\" className=\"login-button\">\n            Register\n          </button>\n          {showSubmitError && <p className=\"error-message\">*{errorMsg}</p>}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegistrationForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}