{"ast":null,"code":"var _jsxFileName = \"/home/workspace/sample-project/src/components/LoginForm/index.js\";\nimport { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass LoginForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      showSubmitError: false,\n      errorMsg: \"\"\n    };\n    this.onChangeUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n    this.onChangePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n    this.onSubmitSuccess = jwtToken => {\n      const {\n        history\n      } = this.props;\n      Cookies.set(\"jwt_token\", jwtToken, {\n        expires: 30,\n        path: \"/\"\n      });\n      history.replace(\"/\");\n    };\n    this.onSubmitFailure = errorMsg => {\n      this.setState({\n        showSubmitError: true,\n        errorMsg\n      });\n    };\n    this.submitForm = async event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const userDetails = {\n        username,\n        password\n      };\n      const url = \"http://localhost:3002/login\";\n      const options = {\n        method: \"POST\",\n        body: JSON.stringify(userDetails)\n      };\n      const response = await fetch(url, options);\n      if (response.ok === true) {\n        const data = await response.json();\n        this.onSubmitSuccess(data.jwt_token);\n      } else {\n        const data = await response.text();\n        this.onSubmitFailure(data);\n      }\n    };\n    this.renderPasswordField = () => {\n      const {\n        password\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          htmlFor: \"password\",\n          children: \"PASSWORD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          className: \"password-input-field\",\n          value: password,\n          onChange: this.onChangePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.renderUsernameField = () => {\n      const {\n        username\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          htmlFor: \"username\",\n          children: \"USERNAME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          className: \"username-input-field\",\n          value: username,\n          onChange: this.onChangeUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.registerClick = () => {\n      const {\n        history\n      } = this.props;\n      history.replace(\"/register\");\n    };\n  }\n  render() {\n    const {\n      showSubmitError,\n      errorMsg\n    } = this.state;\n    const jwtToken = Cookies.get(\"jwt_token\");\n    if (jwtToken !== undefined) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-container\",\n        onSubmit: this.submitForm,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h1prop\",\n          children: \"Login Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: this.renderUsernameField()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: this.renderPasswordField()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-button\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), showSubmitError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: [\"*\", errorMsg]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"input-label\",\n        children: [\"New User? \", /*#__PURE__*/_jsxDEV(\"button\", {\n          conClick: registerClick,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default LoginForm;","map":{"version":3,"names":["Component","Cookies","Redirect","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginForm","constructor","args","state","username","password","showSubmitError","errorMsg","onChangeUsername","event","setState","target","value","onChangePassword","onSubmitSuccess","jwtToken","history","props","set","expires","path","replace","onSubmitFailure","submitForm","preventDefault","userDetails","url","options","method","body","JSON","stringify","response","fetch","ok","data","json","jwt_token","text","renderPasswordField","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","onChange","renderUsernameField","registerClick","render","get","undefined","to","onSubmit","conClick"],"sources":["/home/workspace/sample-project/src/components/LoginForm/index.js"],"sourcesContent":["import { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./index.css\";\n\nclass LoginForm extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    showSubmitError: false,\n    errorMsg: \"\",\n  };\n\n  onChangeUsername = (event) => {\n    this.setState({ username: event.target.value });\n  };\n\n  onChangePassword = (event) => {\n    this.setState({ password: event.target.value });\n  };\n\n  onSubmitSuccess = (jwtToken) => {\n    const { history } = this.props;\n\n    Cookies.set(\"jwt_token\", jwtToken, {\n      expires: 30,\n      path: \"/\",\n    });\n    history.replace(\"/\");\n  };\n\n  onSubmitFailure = (errorMsg) => {\n    this.setState({ showSubmitError: true, errorMsg });\n  };\n\n  submitForm = async (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    const userDetails = { username, password };\n    const url = \"http://localhost:3002/login\";\n    const options = {\n      method: \"POST\",\n      body: JSON.stringify(userDetails),\n    };\n    const response = await fetch(url, options);\n    if (response.ok === true) {\n      const data = await response.json();\n\n      this.onSubmitSuccess(data.jwt_token);\n    } else {\n      const data = await response.text();\n\n      this.onSubmitFailure(data);\n    }\n  };\n\n  renderPasswordField = () => {\n    const { password } = this.state;\n    return (\n      <>\n        <label className=\"input-label\" htmlFor=\"password\">\n          PASSWORD\n        </label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          className=\"password-input-field\"\n          value={password}\n          onChange={this.onChangePassword}\n        />\n      </>\n    );\n  };\n\n  renderUsernameField = () => {\n    const { username } = this.state;\n    return (\n      <>\n        <label className=\"input-label\" htmlFor=\"username\">\n          USERNAME\n        </label>\n        <input\n          type=\"text\"\n          id=\"username\"\n          className=\"username-input-field\"\n          value={username}\n          onChange={this.onChangeUsername}\n        />\n      </>\n    );\n  };\n\n  registerClick = () => {\n    const { history } = this.props;\n\n    history.replace(\"/register\");\n  };\n\n  render() {\n    const { showSubmitError, errorMsg } = this.state;\n    const jwtToken = Cookies.get(\"jwt_token\");\n    if (jwtToken !== undefined) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"login-form-container\">\n        <form className=\"form-container\" onSubmit={this.submitForm}>\n          <h1 className=\"h1prop\">Login Form</h1>\n          <div className=\"input-container\">{this.renderUsernameField()}</div>\n          <div className=\"input-container\">{this.renderPasswordField()}</div>\n          <button type=\"submit\" className=\"login-button\">\n            Login\n          </button>\n          {showSubmitError && <p className=\"error-message\">*{errorMsg}</p>}\n        </form>\n        <h2 className=\"input-label\">\n          New User? <button conClick={registerClick}>Register</button>\n        </h2>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}